<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ë“±í•™ìƒ ìƒì‹ í€´ì¦ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Malgun Gothic', sans-serif;
            background: #e7e9ef url('https://i.imgur.com/9eOwKpU.png');
            background-size: cover;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px;
            position: relative;
        }

        /* ì „ì²´ ì»¨í…Œì´ë„ˆ: ê³µì±… ì¢…ì´ ëŠë‚Œ */
        .quiz-container {
            background: #ffffff;
            border-radius: 12px;
            border: 1px solid #cfd2d8;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            padding: 35px 25px;
            max-width: 780px;
            width: 100%;
            animation: fadeIn 0.4s ease;
            position: relative;
        }

        /* ì—°í•œ ìˆ˜í‰ì„ (ë…¸íŠ¸ ì„  ëŠë‚Œ) */
        .quiz-container::before {
            content: "";
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(
                to bottom,
                transparent,
                transparent 36px,
                rgba(0, 95, 204, 0.06) 37px
            );
            pointer-events: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            text-align: center;
            font-size: 2em;
            font-weight: 800;
            color: #2e3a59;
            padding-bottom: 12px;
            border-bottom: 3px solid #2e3a59;
            margin-bottom: 25px;
        }

        /* ë¡œê·¸ì¸ ë°•ìŠ¤ */
        .login-form {
            background: #fafbff;
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #d9dde7;
        }

        /* ì¸íŠ¸ë¡œ ì„¤ëª… ê¸€ */
        .intro-text {
            line-height: 1.7;
            margin-bottom: 20px;
            text-align: center;
            color: #444;
        }

        .intro-text .highlight {
            font-size: 1.2em;
            font-weight: bold;
            color: #2e3a59;
        }

        /* ì…ë ¥ ë°•ìŠ¤ */
        .input-group label {
            font-weight: bold;
            color: #2e3a59;
            margin-bottom: 6px;
        }

        .input-group input {
            width: 100%;
            padding: 13px;
            border: 1px solid #ced2db;
            border-radius: 8px;
            font-size: 1em;
            background: #fff;
            transition: 0.2s ease;
        }

        .input-group input:focus {
            border-color: #2e3a59;
            outline: none;
        }

        /* ì ìˆ˜íŒ */
        .score-board {
            background: #2e3a59;
            color: #fff;
            padding: 15px;
            border-radius: 10px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        /* ë‚œì´ë„ í‘œì‹œ */
        .difficulty-indicator {
            margin-bottom: 10px;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 0.9em;
            display: inline-block;
        }

        .easy { background: #bedff6; color: #13466a; }
        .medium { background: #ffe29c; color: #5c4200; }
        .hard { background: #f8b2b2; color: #6d0000; }

        /* ë¬¸ì œ ì˜ì—­ */
        .question {
            padding: 20px;
            border-left: 4px solid #2e3a59;
            border-radius: 8px;
            margin-bottom: 20px;
            background: #f7f8fa;
            font-weight: bold;
            color: #2e3a59;
        }

        /* ì„ íƒì§€ */
        .options { display: grid; gap: 12px; }

        .option {
            background: #fff;
            padding: 15px 20px;
            border: 1px solid #d1d5df;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.2s ease;
        }

        .option:hover {
            background: #eef2f9;
        }

        .option.correct {
            background: #d9f7d9;
            border-color: #4caf50;
        }

        .option.wrong {
            background: #f8d0d0;
            border-color: #d73737;
        }

        /* ë²„íŠ¼ */
        .btn {
            background: #2e3a59;
            color: #fff;
            padding: 13px 25px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 700;
            transition: 0.2s ease;
            margin: 5px;
        }

        .btn:hover {
            background: #3e4c6b;
        }

        /* í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
        .progress-bar {
            background: #d5d9e4;
            height: 10px;
            border-radius: 5px;
            margin-bottom: 18px;
        }

        .progress {
            background: #2e3a59;
            width: 0%;
            height: 100%;
            border-radius: 5px;
            transition: 0.4s;
        }

        /* ê²°ê³¼ í™”ë©´ */
        .result-title {
            font-size: 2em;
            font-weight: 800;
            color: #2e3a59;
            margin-bottom: 10px;
        }

        .final-score {
            font-size: 3em;
            font-weight: 900;
            color: #2e3a59;
            margin-bottom: 15px;
        }

        .user-info {
            background: #eef0f6;
            padding: 15px;
            border-radius: 10px;
            color: #2e3a59;
            font-weight: bold;
            margin-bottom: 20px;
        }

        /* í†µê³„ ë°•ìŠ¤ */
        .stats-container {
            background: #fafbff;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #d4d7e0;
            margin: 20px 0;
        }

        .stats-title {
            text-align: center;
            font-weight: bold;
            color: #2e3a59;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #d4d7e0;
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        /* ìº¡ì²˜ ì•ˆë‚´ */
        .capture-notice {
            background: #ffe29c;
            padding: 15px;
            border-radius: 12px;
            font-weight: bold;
            color: #6a4a0f;
            text-align: center;
            margin-top: 20px;
        }

        .hidden { display: none; }
    </style>
</head>

<body>
    <div class="quiz-container">
        <h1>ğŸ§  ê³ ë“±í•™ìƒ ìƒì‹ í€´ì¦ˆ</h1>

        <div id="login-screen">
            <div class="login-container">
                <div class="login-form">
                    <div class="intro-text">
                        <p class="highlight">ë°°ë“œë¯¼í„´ í€´ì¦ˆ ë„ì „!</p>
                        <p>ì´ 10ë¬¸ì œ, 100ì  ë§Œì ìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì˜ ë°°ë“œë¯¼í„´ ì‹¤ë ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.</p>
                        <p>ê·œì¹™ë¶€í„° ê¸°ìˆ ê¹Œì§€ ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì¶œì œë©ë‹ˆë‹¤.</p>
                    </div>

                    <div class="input-group">
                        <label>ğŸ“ í•™ë²ˆ</label>
                        <input type="text" id="student-id" placeholder="ì˜ˆ: 10101">
                    </div>

                    <div class="input-group">
                        <label>ğŸ‘¤ ì´ë¦„</label>
                        <input type="text" id="student-name" placeholder="ì˜ˆ: í™ê¸¸ë™">
                    </div>

                    <button class="btn" onclick="startQuiz()">ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ê¸°!</button>
                </div>
            </div>
        </div>

        <div id="main-content" class="hidden">
            <div id="quiz-screen">
                <div class="score-board">
                    <div>ğŸ“š ë¬¸ì œ: <span id="current-question">1</span> / <span id="total-questions">10</span></div>
                    <div>â­ ì ìˆ˜: <span id="current-score">0</span>ì </div>
                </div>

                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>

                <div class="question-container">
                    <div class="difficulty-indicator" id="difficulty-indicator"></div>
                    <div class="question" id="question-text"></div>
                    <div class="options" id="options-container"></div>
                </div>

                <button class="btn" id="next-btn" onclick="nextQuestion()" disabled>ë‹¤ìŒ ë¬¸ì œ â†’</button>
            </div>

            <div id="result-screen" class="hidden">
                <div class="result-title">ğŸ‰ í€´ì¦ˆ ì™„ë£Œ!</div>
                <div class="user-info" id="user-result-info"></div>
                <div class="final-score" id="final-score">0ì </div>
                <div class="result-message" id="result-message"></div>

                <div class="stats-container">
                    <div class="stats-title">ğŸ“Š ì´ë²ˆ ê²Œì„ ê²°ê³¼</div>
                    <div class="stat-item">
                        <span>âœ… ë§íŒ ë¬¸ì œ</span>
                        <span id="correct-count">0 / 10</span>
                    </div>
                    <div class="stat-item">
                        <span>â­ í•˜ ë‚œì´ë„ ì •ë‹µë¥ </span>
                        <span id="easy-correct">0 / 4</span>
                    </div>
                    <div class="stat-item">
                        <span>â­â­ ì¤‘ ë‚œì´ë„ ì •ë‹µë¥ </span>
                        <span id="medium-correct">0 / 4</span>
                    </div>
                    <div class="stat-item">
                        <span>â­â­â­ ìƒ ë‚œì´ë„ ì •ë‹µë¥ </span>
                        <span id="hard-correct">0 / 2</span>
                    </div>
                </div>

                <div class="capture-notice">
                    ğŸ“¸ ê²°ê³¼ ì €ì¥ ì•ˆë‚´  
                    <p>â€¢ ì´ í™”ë©´ì„ ìº¡ì³í•´ì„œ ê²°ê³¼ë¥¼ ì œì¶œí•´ì£¼ì„¸ìš”!</p>
                </div>

                <button class="btn" onclick="restartQuiz()">ğŸ”„ ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
            </div>
        </div>
    </div>

<script>
/* ê¸°ì¡´ JS ê·¸ëŒ€ë¡œ ìœ ì§€ */
const questionPool = {
    easy: [
        { question: "ë°°ë“œë¯¼í„´ì€ í•œ ì„¸íŠ¸ë‹¹ ëª‡ì ì¸ê°€ìš”?", options: ["20", "18", "25", "21"], correct: 3, difficulty: "easy" },
        { question: "ë°°ë“œë¯¼í„´ì€ ë³µì‹ë§Œ ì¡´ì¬í•œë‹¤?", options: ["X", "O", "ëª¨ë¥¸ë‹¤", "ì‚¬ë‘í•´ìš”"], correct: 0, difficulty: "easy" },
        { question: "ë°°ë“œë¯¼í„´ ì „ìš© ì‹ ë°œì´ ì¡´ì¬í•œë‹¤?", options: ["ì˜ˆ", "ì•„ë‹ˆìš”", "ë‚´ê°€ ë°œëª…í•˜ì", "ì“¸ë°ì—†ë‹¤"], correct: 0, difficulty: "easy" },
        { question: "ê°€ì¥ ë¹ ë¥¸ êµ¬ê¸° ì¢…ëª©ì´ë‹¤?", options: ["ì˜ˆ", "ì„¤ë§ˆ", "ì•„ë‹ˆìš”", "ëŠë¦° ì¢…ëª©ì´ë‹¤"], correct: 0, difficulty: "easy" },
        { question: "ë°°ë“œë¯¼í„´ ê·¸ë¦½ì˜ ì¢…ë¥˜ëŠ” 2ê°œë‹¤?", options: ["ì•„ë‹ˆìš”", "ì˜ˆ", "ëª¨ë¥´ê² ë‹¤", "ê¶ê¸ˆí•˜ë‹¤"], correct: 0, difficulty: "easy" },
        { question: "ë°°ë“œë¯¼í„´ì€ ë³µì‹ì´ë‘ ë‹¨ì‹ ì¼ë•Œ ì½”íŠ¸ê°€ ë°”ë€ë‹¤?", options: ["ëª¨ë¥¸ë‹¤", "ì˜ˆ", "ì•„ë‹ˆìš”", "ê¶ê¸ˆí•˜ë‹¤"], correct: 1, difficulty: "easy" },
        { question: "ë‹¤ìŒ ì¤‘ í‹€ë¦° ê²ƒì€?", options: ["ë°°ë“œë¯¼í„´ì€ ìš°ë¦¬ë‚˜ë¼ ì „í†µë†€ì´ì´ë‹¤", "ë°°ë“œë¯¼í„´ì€ ì±„ë¡œ í•˜ëŠ” ìŠ¤í¬ì¸ ë‹¤", "ë°°ë“œë¯¼í„´ì˜ ê³µ ì´ë¦„ì€ ì…”í‹€ì½•ì´ë‹¤", "ë‚¨ë…€ë…¸ì†Œ ëª¨ë‘ ì¦ê¸´ë‹¤"], correct: 0, difficulty: "easy" },
        { question: "ë°°ë“œë¯¼í„´ì˜ ì¤„ì€ ë°”ê¿€ ìˆ˜ ìˆë‹¤?", options: ["ì˜ˆ", "ì•„ë‹ˆìš”", "ëª¨ë¥¸ë‹¤", "ê¶ê¸ˆí•˜ë‹¤"], correct: 0, difficulty: "easy" },
    ],
    medium: [
        { question: "ë‹¤ìŒì¤‘ ê³µì„ ì‚´ì§ ì³ì„œ ì½”íŠ¸ì— ë‚®ê²Œ ë„˜ê¸°ëŠ” ê²ƒì€?", options: ["í—¤ì–´í•€", "í´ë¦¬ì–´", "ìŠ¤ë§¤ì‹œ", "í•˜ì´í´ë¦¬ì–´"], correct: 0, difficulty: "medium" },
        { question: "ê°€ì¥ ê¸°ë³¸ì´ ë˜ëŠ” ê·¸ë¦½ì€?", options: ["ë°±í•¸ë“œ", "ëª¨ë¥¸ë‹¤", "í¬í•¸ë“œ", "íˆ¬í•¸ë“œ"], correct: 2, difficulty: "medium" },
        { question: "ì…”í‹€ì½•ì˜ ìµœê³  ì†ë ¥ì€?", options: ["ì‹œì† 100km", "ì‹œì† 200km", "ê´‘ì†", "300km ì´ìƒ"], correct: 3, difficulty: "medium" },
        { question: "ë‹¤ìŒì¤‘ ë°°ë“œë¯¼í„´ ë¸Œëœë“œëŠ”?", options: ["ìƒ¤ì˜¤ë°", "ì• í”Œ", "ê°€ë¼ì´ë‹¤", "ë°°ë“œë¯¼í„´"], correct: 3, difficulty: "medium" },
    ],
    hard: [
        { question: "í˜„ì¬ ì„¸ê³„ 1ìœ„ ì—¬ì ë‹¨ì‹ ì„ ìˆ˜ëŠ”?", options: ["ì™•ì§€ì´", "ë‘”ì¤‘", "ì•ˆì„¸ì˜", "ë¯¸ì•¼ìí‚¤í† ëª¨ì¹´"], correct: 1, difficulty: "hard" },
        { question: "ë°°ë“œë¯¼í„´ ê·¸ë¦½ì„ ê°ê¸° ì „ì— ê°ëŠ” ê²ƒì€?", options: ["ìˆ˜ê±´", "ì¢…ì´", "í”Œë¼ìŠ¤í‹±", "ë®¬ëŸ¬"], correct: 3, difficulty: "hard" },
    ]
};

let questions = [];
let currentQuestion = 0;
let score = 0;
let selectedAnswer = null;
let currentUser = { name: '', studentId: '' };
let gameData = {
    correctAnswers: 0,
    easyCorrect: 0,
    mediumCorrect: 0,
    hardCorrect: 0,
    answers: []
};

function startQuiz() {
    const studentId = document.getElementById('student-id').value.trim();
    const studentName = document.getElementById('student-name').value.trim();

    if (!studentId || !studentName) {
        alert('í•™ë²ˆê³¼ ì´ë¦„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
        return;
    }

    currentUser = { name: studentName, studentId: studentId };
    currentQuestion = 0;
    score = 0;
    selectedAnswer = null;

    gameData = {
        correctAnswers: 0,
        easyCorrect: 0,
        mediumCorrect: 0,
        hardCorrect: 0,
        answers: []
    };

    questions = [];
    questions.push(...getRandomQuestions(questionPool.easy, 4));
    questions.push(...getRandomQuestions(questionPool.medium, 4));
    questions.push(...getRandomQuestions(questionPool.hard, 2));

    document.getElementById('login-screen').classList.add('hidden');
    document.getElementById('main-content').classList.remove('hidden');
    document.getElementById('quiz-screen').classList.remove('hidden');
    document.getElementById('result-screen').classList.add('hidden');

    showQuestion();
}

function getRandomQuestions(pool, count) {
    const shuffled = [...pool];
    shuffleArray(shuffled);
    return shuffled.slice(0, count);
}

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function showQuestion() {
    const question = questions[currentQuestion];

    document.getElementById('question-text').textContent = question.question;
    document.getElementById('current-question').textContent = currentQuestion + 1;
    document.getElementById('total-questions').textContent = questions.length;
    document.getElementById('current-score').textContent = score;

    const difficultyIndicator = document.getElementById('difficulty-indicator');
    if (question.difficulty === 'easy') {
        difficultyIndicator.textContent = 'â­ í•˜ ë‚œì´ë„ (7ì )';
        difficultyIndicator.className = 'difficulty-indicator easy';
    } else if (question.difficulty === 'medium') {
        difficultyIndicator.textContent = 'â­â­ ì¤‘ ë‚œì´ë„ (10ì )';
        difficultyIndicator.className = 'difficulty-indicator medium';
    } else {
        difficultyIndicator.textContent = 'â­â­â­ ìƒ ë‚œì´ë„ (16ì )';
        difficultyIndicator.className = 'difficulty-indicator hard';
    }

    const progress = ((currentQuestion) / questions.length) * 100;
    document.getElementById('progress').style.width = progress + '%';

    const optionsContainer = document.getElementById('options-container');
    optionsContainer.innerHTML = '';

    question.options.forEach((option, index) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'option';
        optionElement.textContent = option;
        optionElement.onclick = () => selectAnswer(index);
        optionsContainer.appendChild(optionElement);
    });

    document.getElementById('next-btn').disabled = true;
    selectedAnswer = null;
}

function selectAnswer(answerIndex) {
    if (selectedAnswer !== null) return;

    selectedAnswer = answerIndex;
    const question = questions[currentQuestion];
    const options = document.querySelectorAll('.option');

    options.forEach((option, index) => {
        if (index === question.correct) {
            option.classList.add('correct');
        } else if (index === answerIndex && answerIndex !== question.correct) {
            option.classList.add('wrong');
        }
        option.style.cursor = 'default';
    });

    const isCorrect = answerIndex === question.correct;
    gameData.answers.push({
        question: currentQuestion,
        correct: isCorrect,
        difficulty: question.difficulty
    });

    if (isCorrect) {
        gameData.correctAnswers++;
        if (question.difficulty === 'easy') {
            score += 7;
            gameData.easyCorrect++;
        } else if (question.difficulty === 'medium') {
            score += 10;
            gameData.mediumCorrect++;
        } else {
            score += 16;
            gameData.hardCorrect++;
        }
        document.getElementById('current-score').textContent = score;
    }

    document.getElementById('next-btn').disabled = false;
}

function nextQuestion() {
    currentQuestion++;

    if (currentQuestion < questions.length) {
        showQuestion();
    } else {
        showResult();
    }
}

function showResult() {
    document.getElementById('quiz-screen').classList.add('hidden');
    document.getElementById('result-screen').classList.remove('hidden');

    document.getElementById('user-result-info').textContent =
        `${currentUser.studentId} ${currentUser.name}`;

    document.getElementById('final-score').textContent = score + 'ì ';

    const easyTotal = gameData.answers.filter(a => a.difficulty === 'easy').length;
    const mediumTotal = gameData.answers.filter(a => a.difficulty === 'medium').length;
    const hardTotal = gameData.answers.filter(a => a.difficulty === 'hard').length;

    document.getElementById('correct-count').textContent = `${gameData.correctAnswers} / 10`;
    document.getElementById('easy-correct').textContent = `${gameData.easyCorrect} / ${easyTotal}`;
    document.getElementById('medium-correct').textContent = `${gameData.mediumCorrect} / ${mediumTotal}`;
    document.getElementById('hard-correct').textContent = `${gameData.hardCorrect} / ${hardTotal}`;

    const maxScore = (4 * 7) + (4 * 10) + (2 * 16);
    const percentage = (score / maxScore) * 100;

    let message = '';
    if (percentage >= 90) message = 'ì™„ë²½í•´ìš”! ì§„ì •í•œ ìƒì‹ ë°•ì‚¬ë„¤ìš”! ğŸ“âœ¨';
    else if (percentage >= 80) message = 'í›Œë¥­í•´ìš”! ì–´ë ¤ìš´ ë¬¸ì œê¹Œì§€ ì˜ í’€ì—ˆì–´ìš”! ğŸ‘';
    else if (percentage >= 70) message = 'ì¢‹ì•„ìš”! ê¸°ë³¸ ìƒì‹ì´ íƒ„íƒ„í•´ìš”! ğŸ“š';
    else if (percentage >= 50) message = 'ê´œì°®ì•„ìš”! ì¡°ê¸ˆ ë” ê³µë¶€í•´ë´ìš”! ğŸ’ª';
    else message = 'ì•„ì‰¬ì›Œìš”! ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”! ğŸ”¥';

    document.getElementById('result-message').textContent = message;
}

function restartQuiz() {
    document.getElementById('login-screen').classList.remove('hidden');
    document.getElementById('main-content').classList.add('hidden');
}
</script>

</body>
</html>
